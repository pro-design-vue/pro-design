---
outline: deep
---

# 国际化

项目已经集成了 [Vue i18n](https://kazupon.github.io/vue-i18n/)，并且已经配置好了中文和英文的语言包。

## 配置默认语言

只需要覆盖默认的偏好设置即可，在对应的应用内，找到 `src/preferences.ts` 文件，修改 locale 的值即可：

```ts
export const overridesPreferences = defineOverridesPreferences({
  app: {
    locale: 'en-US',
  },
});
```

## 动态切换语言

切换语言有两部分组成:
* 更新偏好设置
* 加载对应的语言包

```ts
import type { SupportedLanguagesType } from '@/shared/locales';
import { loadLocaleMessages } from '@/shared/locales';
import { updatePreferences } from '@/shared/preferences';

async function updateLocale(value: string) {
  // 1. 更新偏好设置
  const locale = value as SupportedLanguagesType;
  updatePreferences({
    app: {
      locale,
    },
  });
  // 2. 加载对应的语言包
  await loadLocaleMessages(locale);
}

updateLocale('en-US');
```

## 新增翻译文本

新增翻译文本，只需要在对应的应用内，找到 `src/locales/langs/`，新增对应的文本即可，例:

src/locales/langs/zh-CN/*.json

```json
{
  "about": {
    "desc": "Pro Design Admin 是一个现代的管理模版。"
  }
}
```

src/locales/langs/en-US.ts

```json
{
  "about": {
    "desc": "Pro Design Admin is a modern management template."
  }
}
```

## 使用翻译文本

通过 `@/locales`，你可以很方便的使用翻译文本：

```vue
<script setup lang="ts">
import { computed } from 'vue';
import { $t } from '@/locales';

const items = computed(() => [{ title: $t('about.desc') }]);
</script>
<template>
  <div>{{ $t('about.desc') }}</div>
  <template v-for="item in items.value">
    <div>{{ item.title }}</div>
  </template>
</template>
```